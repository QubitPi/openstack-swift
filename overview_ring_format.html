<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Ring File Formats &#8212; Swift 0.1.0.dev11004 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fe63c2af" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=5c69cfe2" />
    <script src="_static/documentation_options.js?v=93e99d53"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Storage Policies" href="overview_policies.html" />
    <link rel="prev" title="The Rings" href="overview_ring.html" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap CSS -->
<link href="_static/css/bootstrap.min.css" rel="stylesheet">

<!-- Fonts -->
<link href="_static/css/font-awesome.min.css" rel="stylesheet">

<!-- Custom CSS -->
<link href="_static/css/combined.css" rel="stylesheet">

<!-- Search CSS -->
<link href="_static/css/search.css" rel="stylesheet">

<!-- Pygments CSS -->
<link href="_static/pygments.css" rel="stylesheet">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-17511903-1', 'auto');
ga('send', 'pageview');
</script>
<!-- End Google Analytics -->


  </head><body>

<!-- SOURCE_FILE: https://opendev.org/openstack/swift/src/doc/source/overview_ring_format.rst -->

<script>
    (function (window, document) {
        var loader = function () {
            var script = document.createElement("script"), tag = document.getElementsByTagName("script")[0];
            script.src = "https://search.openstack.org/widget/embed.min.js?t="+Date.now();
            tag.parentNode.insertBefore(script, tag);
        };
        window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
    })(window, document);
</script>

<nav class="navbar navbar-default navbar-expand-md" role="navigation">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
      <div class="brand-wrapper">
        <a class="navbar-brand" href="https://www.openstack.org/">
        <img src="_static/images/logo-full.svg" width="135px" height="35px"/>
        </a>
      </div>
      <button class="navbar-toggler" data-bs-target="#navbar-main-1" aria-controls="navbar-main-1" data-bs-toggle="collapse" type="button">
        <span class="navbar-toggler-icon"></span>
        <span class="sr-only">Toggle navigation</span>
      </button>
      <div class="search-icon show"><i class="fa fa-search"></i> Search</div>
      <div class="collapse navbar-collapse" id="navbar-main-1">
<div class="search-container tiny">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</div>
      <ul class="nav navbar-nav navbar-main ms-auto mb-2 mb-lg-0 justify-content-end show" role="navigation">
<li class="search-container-mobile">
    <div class="openstack-search-bar" data-baseUrl="search.openstack.org" data-context="docs-openstack"></div>
</li>
        <li class="nav-item dropdown"> <!--Software -->
          <a href="https://www.openstack.org/software/" class="nav-link dropdown-toggle" aria-expanded="false">Software</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://www.openstack.org/software/">Overview</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/software/project-navigator/openstack-components">OpenStack Components</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/software/project-navigator/sdks">SDKs</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/software/project-navigator/deployment-tools">Deployment Tools</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/assets/software/projectmap/openstack-map.pdf" target="_blank">OpenStack Map</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/software/sample-configs/">Sample Configs</a></li>
          </ul>
        </li>
        <li class="nav-item drop-down"> <!-- Use Cases -->
          <a href="https://www.openstack.org/use-cases/" class="nav-link dropdown-toggle" role="button">Use Cases</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/">Users in Production</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/bare-metal/">Ironic Bare Metal</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/edge-computing/">Edge Computing</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/telecoms-and-nfv/">Telecom &amp; NFV</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/science/">Science and HPC</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/containers/">Containers</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/use-cases/enterprise/">Enterprise</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/surveys/landing">User Survey</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"> <!-- Events -->
          <a href="https://openinfra.dev/summit" class="nav-link dropdown-toggle" role="button" id="dropdownMenuEvents">Events</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://openinfra.dev/summit">OpenInfra Summit</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/ptg/">Project Teams Gathering</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/events/opendev-2020/">OpenDev</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/events/community-events/">Community Events</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/events/openstackdays">OpenStack &amp; OpenInfra Days</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/videos/">Summit Videos</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"><!-- Community -->
          <a href="https://www.openstack.org/community/" class="nav-link dropdown-toggle" role="button">Community</a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="https://www.openstack.org/community/">Welcome! Start Here</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/community/tech-committee">OpenStack Technical Committee</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/community/speakers/">Speakers Bureau</a></li>
            <li><a class="dropdown-item" href="http://wiki.openstack.org">OpenStack Wiki</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/coa/">Get Certified (COA)</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/community/jobs/">Jobs</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketing/">Marketing Resources</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/news/">Community News</a></li>
            <li><a class="dropdown-item" href="http://superuser.openstack.org">Superuser Magazine</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/community/supporting-organizations/">OpenInfra Foundation Supporting Organizations</a></li>
            <li><a class="dropdown-item" href="https://openinfra.dev">OpenInfra Foundation</a></li>
          </ul>
        </li>
        <li class="nav-item dropdown"><!-- Marketplace -->
          <a href="https://www.openstack.org/marketplace/" class="nav-link dropdown-toggle" role="button">Marketplace</a>
          <ul class="dropdown-menu dropdown-hover">
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/training/">Training</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/distros/">Distros &amp; Appliances</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/public-clouds/">Public Clouds</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/hosted-private-clouds/">Hosted Private Clouds</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/remotely-managed-private-clouds/">Remotely Managed Private Clouds</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/consulting/">Consulting &amp; Integrators</a></li>
            <li><a class="dropdown-item" href="https://www.openstack.org/marketplace/drivers/">Drivers</a></li>
          </ul>
        </li>
        <li class="nav-item"><!-- Blog -->
          <a class="nav-link" href="https://www.openstack.org/blog/">Blog</a>
        </li>
        <li class="nav-item"><!-- Docs -->
          <a class="nav-link" href="http://docs.openstack.org/">Docs</a>
        </li>
        <li class="nav-item dropdown join-nav-section"> <!-- Join -->
          <a href="https://openinfra.dev/join/" class="nav-link dropdown-toggle" role="button">Join</a>
          <ul class="dropdown-menu" style="display: none;">
            <li><a class="dropdown-item" href="https://openinfra.dev/join/">Sign up for Foundation Membership</a></li>
            <li><a class="dropdown-item" href="https://openinfra.dev/join/">Sponsor the Foundation</a></li>
            <li><a class="dropdown-item" href="https://openinfra.dev">More about the Foundation</a></li>
          </ul>
        </li>
        <li class="nav-item"> <!-- Login -->
          <a href="https://www.openstack.org/Security/login/?BackURL=/home/" class="sign-in-btn">Log In</a>
        </li>
      </ul>
    </div>
  </div>
  <!-- /.container -->
</nav>

    <div class="container docs-book-wrapper">
      <div class="row">
        <div class="col-lg-9 col-md-8 col-sm-8 col-lg-push-3 col-md-push-4 col-sm-push-4 order-4">
<div class="row docs-title">
  <div class="col-lg-8">
      <h1>Ring File Formats</h1>
    
  </div>
  <div class="docs-actions">
    
    <a href="overview_ring.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: The Rings"></i></a>
    
    
    <a href="overview_policies.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Storage Policies"></i></a>
    
    <a id="pdfLink1" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
    
    <a id="logABugLink1" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
    
  </div>
</div>
          <div class="row">
            <div class="col-lg-12">
              <div class="docs-body" role="main">

  <section id="ring-file-formats">
<h1>Ring File Formats<a class="headerlink" href="#ring-file-formats" title="Link to this heading">¶</a></h1>
<p>The ring is the most important data structure in Swift. How this data structure
been serialized to disk has changed over the years.</p>
<p>Initially ring files contain three key pieces of information:</p>
<ul class="simple">
<li><p>the part_power value (often stored as <code class="docutils literal notranslate"><span class="pre">part_shift</span> <span class="pre">:=</span> <span class="pre">32</span> <span class="pre">-</span> <span class="pre">part_power</span></code>)</p>
<ul>
<li><p>which determines how many partitions are in the ring,</p></li>
</ul>
</li>
<li><p>the device list</p>
<ul>
<li><p>which includes all the disks participating in the ring, and</p></li>
</ul>
</li>
<li><p>the replica-to-part-to-device table</p>
<ul>
<li><p>which has all <code class="docutils literal notranslate"><span class="pre">replica_count</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">**</span> <span class="pre">part_power)</span></code> partition assignments.</p></li>
</ul>
</li>
</ul>
<p>But the ability to extend the serialization format to add more data structures
to the ring serialization format has meant a new ring v2 format has been created.</p>
<p>Ring files have always been gzipped when serialized, though the inner,
raw format has evolved over the years.</p>
<section id="ring-v0">
<h2>Ring v0<a class="headerlink" href="#ring-v0" title="Link to this heading">¶</a></h2>
<p>Initially, rings were simply pickle dumps of the RingData object. <a class="reference external" href="https://opendev.org/openstack/swift/commit/fc6391ea">With
Swift 1.3.0</a>, this
changed to pickling a pure-stdlib data structure, but the core concept
was the same.</p>
</section>
<section id="ring-v1">
<h2>Ring v1<a class="headerlink" href="#ring-v1" title="Link to this heading">¶</a></h2>
<p>Pickle presented some problems, however. While <a class="reference external" href="https://docs.python.org/3/library/pickle.html">there are security
concerns</a> around unpickling
untrusted data, security boundaries are generally drawn such that rings are
assumed to be trusted. Ultimately, what pushed us to a new format were
<a class="reference external" href="https://bugs.launchpad.net/swift/+bug/1031954">performance considerations</a>.</p>
<p>Starting in <a class="reference external" href="https://opendev.org/openstack/swift/commit/f8ce43a2">Swift 1.7.0</a>,
Swift began using a new format (while still being willing to read the old one).
The new format starts with some magic so we may identify it as such:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+---------------+-------+</span>
<span class="o">|</span><span class="s1">&#39;R&#39;</span> <span class="s1">&#39;1&#39;</span> <span class="s1">&#39;N&#39;</span> <span class="s1">&#39;G&#39;</span><span class="o">|</span> <span class="o">&lt;</span><span class="n">vrs</span><span class="o">&gt;</span> <span class="o">|</span>
<span class="o">+---------------+-------+</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;vrs&gt;</span></code> is a network-order two-byte version number (which is always 1).
After that, a JSON object is serialized as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+---------------+-------...---+</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">data</span><span class="o">-</span><span class="n">length</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">data</span> <span class="o">...</span> <span class="o">&gt;</span> <span class="o">|</span>
<span class="o">+---------------+-------...---+</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;data-length&gt;</span></code> is the network-order four-byte length (in bytes) of
<code class="docutils literal notranslate"><span class="pre">&lt;data&gt;</span></code>, which is the ASCII-encoded JSON-serialized object. This object
has at minimum three keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">devs</span></code> for the device list</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">part_shift</span></code> (i.e., <code class="docutils literal notranslate"><span class="pre">32</span> <span class="pre">-</span> <span class="pre">part_power</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">replica_count</span></code> for the integer number of part-to-device rows to read</p></li>
</ul>
<p>The replica-to-part-to-device table then follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+-------+-------+...+-------+-------+</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|...|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span>
<span class="o">+-------+-------+...+-------+-------+</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|...|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span>
<span class="o">+-------+-------+...+-------+-------+</span>
<span class="o">|</span>                <span class="o">...</span>                <span class="o">|</span>
<span class="o">+-------+-------+...+-------+-------+</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">dev</span><span class="o">&gt;</span> <span class="o">|...|</span>
<span class="o">+-------+-------+...+</span>
</pre></div>
</div>
<p>Each <code class="docutils literal notranslate"><span class="pre">&lt;dev&gt;</span></code> is a host-order two-byte index into the <code class="docutils literal notranslate"><span class="pre">devs</span></code> list. Every row
except the last has exactly <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">**</span> <span class="pre">part_power</span></code> entries; the last row may
have the same or fewer.</p>
<p>The metadata object has proven quite versatile: new keys have been added
to provide additional information while remaining backwards-compatible.
In order, the following new fields have been added:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">byteorder</span></code> specifies whether the host-order for the
replica-to-part-to-device table is “big” or “little” endian. Added in
<a class="reference external" href="https://opendev.org/openstack/swift/commit/1ec6e2bb">Swift 2.12.0</a>,
this allows rings written on big-endian machines to be read on
little-endian machines and vice-versa.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">next_part_power</span></code> indicates whether a partition-power increase is in
progress. Added in <a class="reference external" href="https://opendev.org/openstack/swift/commit/e1140666">Swift 2.15.0</a>,
this will have one of two values, if present: the ring’s current
<code class="docutils literal notranslate"><span class="pre">part_power</span></code>, indicating that there may be hardlinks to clean up,
or <code class="docutils literal notranslate"><span class="pre">part_power</span> <span class="pre">+</span> <span class="pre">1</span></code> indicating that hardlinks may need to be created.
See <a class="reference internal" href="ring_partpower.html#modify-part-power"><span class="std std-ref">the documentation</span></a>
for more information.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code> specifies the version number of the ring-builder that was used
to write this ring. Added in <a class="reference external" href="https://opendev.org/openstack/swift/commit/6853616a">Swift 2.24.0</a>,
this allows the comparing of rings from different machines to determine
which is newer.</p></li>
</ul>
</section>
<section id="ring-v2">
<h2>Ring v2<a class="headerlink" href="#ring-v2" title="Link to this heading">¶</a></h2>
<p>The way that v1 rings dealt with fractional replicas made it impossible
to reliably serialize additional large data structures after the
replica-to-part-to-device table. The v2 format has been designed to be
extensable.</p>
<p>The new format starts with magic similar to v1:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+---------------+-------+</span>
<span class="o">|</span><span class="s1">&#39;R&#39;</span> <span class="s1">&#39;1&#39;</span> <span class="s1">&#39;N&#39;</span> <span class="s1">&#39;G&#39;</span><span class="o">|</span> <span class="o">&lt;</span><span class="n">vrs</span><span class="o">&gt;</span> <span class="o">|</span>
<span class="o">+---------------+-------+</span>
</pre></div>
</div>
<p>where &lt;vrs&gt; is again a network-order two-byte version number (which is now 2).
By bumping the version number, we ensure that old versions of Swift refuse to
read the ring, rather than misinterpret the content.</p>
<p>After that, a series of BLOBs are serialized, each as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+-------------------------------+-------...---+</span>
<span class="o">|</span> <span class="o">&lt;</span><span class="n">data</span><span class="o">-</span><span class="n">length</span><span class="o">&gt;</span>                 <span class="o">|</span> <span class="o">&lt;</span><span class="n">data</span> <span class="o">...</span> <span class="o">&gt;</span> <span class="o">|</span>
<span class="o">+-------------------------------+-------...---+</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">&lt;data-length&gt;</span></code> is the network-order eight-byte length (in bytes) of
<code class="docutils literal notranslate"><span class="pre">&lt;data&gt;</span></code>. Each BLOB is preceded by a <code class="docutils literal notranslate"><span class="pre">Z_FULL_FLUSH</span></code> to allow it to be
decompressed without reading the whole file.</p>
<p>The order of the BLOBs isn’t important, although they do tend to be written
in the order Swift will read them while loading. This reduces the disk seeks
necessary to load.</p>
<p>The final BLOB is an index: a JSON object mapping named sections to an array
of offsets within the file, like</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">section</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">compressed</span> <span class="n">start</span><span class="p">,</span>
        <span class="n">uncompressed</span> <span class="n">start</span><span class="p">,</span>
        <span class="n">compressed</span> <span class="n">end</span><span class="p">,</span>
        <span class="n">uncompressed</span> <span class="n">end</span><span class="p">,</span>
        <span class="n">checksum</span> <span class="n">method</span><span class="p">,</span>
        <span class="n">checksum</span> <span class="n">value</span>
    <span class="p">],</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Section names may be arbitrary strings, but the “swift/” prefix is reserved
for upstream use. The start/end values mark the beginning and ending of the
section’s BLOB. Note that some end values may be <code class="docutils literal notranslate"><span class="pre">null</span></code> if they were not
known when the index was written – in particular, this <em>will</em> be true for
the index itself. The checksum method should be one of <code class="docutils literal notranslate"><span class="pre">&quot;md5&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sha1&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;sha256&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;sha512&quot;</span></code>; other values will be ignored in anticipation
of a need to support further algorithms. The checksum value will be the
hex-encoded digest of the uncompressed section’s bytes. Like end values,
checksum data may be <code class="docutils literal notranslate"><span class="pre">null</span></code> if not known when the index is written.</p>
<p>Finally, a “tail” is written:</p>
<ul class="simple">
<li><p>the gzip stream is flushed with another <code class="docutils literal notranslate"><span class="pre">Z_FULL_FLUSH</span></code>,</p></li>
<li><p>the stream is switched to uncompressed,</p></li>
<li><p>the eight-byte offset of the uncompressed start of the index is written,</p></li>
<li><p>the gzip stream is flushed with another <code class="docutils literal notranslate"><span class="pre">Z_FULL_FLUSH</span></code>,</p></li>
<li><p>the eight-byte offset of the compressed start of the index is written,</p></li>
<li><p>the gzip stream is flushed with another <code class="docutils literal notranslate"><span class="pre">Z_FULL_FLUSH</span></code>, and</p></li>
<li><p>the gzip stream is closed; this involves:</p>
<ul>
<li><p>flushing the underlying deflate stream with <code class="docutils literal notranslate"><span class="pre">Z_FINISH</span></code></p></li>
<li><p>writing <code class="docutils literal notranslate"><span class="pre">CRC32</span></code> (of the full uncompressed data)</p></li>
<li><p>writing <code class="docutils literal notranslate"><span class="pre">ISIZE</span></code> (the length of the full uncompressed data <code class="docutils literal notranslate"><span class="pre">mod</span> <span class="pre">2</span> <span class="pre">**</span> <span class="pre">32</span></code>)</p></li>
</ul>
</li>
</ul>
<p>By switching to uncompressed, we can know exactly how many bytes will be
written in the tail, so that when reading we can quickly seek to and read the
index offset, seek to the index start, and read the index. From there we
can do similar things for any other section.</p>
<ul class="simple">
<li><p>Seek to the end of the file</p></li>
<li><p>Go back 31 bytes in the underlying file; this should leave us at the start of
the deflate block containing the offset for the compressed start</p></li>
<li><p>Decompress 8 bytes from the deflate stream to get the location of the
compressed start of the index BLOB</p></li>
<li><p>Seek to that location</p></li>
<li><p>Read/decompress the size of the index BLOB</p></li>
<li><p>Read/decompress the json serialized index.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This 31 bytes is the deflate block containing the 8 byte location,
a <code class="docutils literal notranslate"><span class="pre">Z_FULL_FLUSH</span></code> block, the <code class="docutils literal notranslate"><span class="pre">Z_FINISH</span></code> block, and the <code class="docutils literal notranslate"><span class="pre">CRC32</span></code> and
<code class="docutils literal notranslate"><span class="pre">ISIZE</span></code>. For more information, see <a class="reference external" href="https://rfc-editor.org/rfc/rfc1951">RFC 1951</a> (for the deflate stream)
and <a class="reference external" href="https://rfc-editor.org/rfc/rfc1952">RFC 1952</a> (for the gzip format).</p>
</div>
<p>The currently defined section and section names upstream are as follows:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">swift/index</span></code> - The swift index</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swift/ring/metadata</span></code> - Ring metadata serialized as json</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swift/ring/devices</span></code> - Devices json serialized data structure.</p>
<ul>
<li><p>This has been seperated from the ring metadata structure in v1 as it
gets large</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">swift/ring/assignments</span></code> - The ring replica2part2dev_id data structure</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Third-parties may find it useful to add their own sections; however,
the <code class="docutils literal notranslate"><span class="pre">swift/</span></code> prefix is reserved for future upstream enhancements.</p>
</div>
<section id="swift-ring-metadata">
<h3>swift/ring/metadata<a class="headerlink" href="#swift-ring-metadata" title="Link to this heading">¶</a></h3>
<p>This BLOB is an ASCII-encoded JSON object full of metadata, similar
to v1 rings. It has the following required keys:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">part_shift</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dev_id_bytes</span></code> specifies the number of bytes used for each <code class="docutils literal notranslate"><span class="pre">&lt;dev&gt;</span></code> in the
replica-to-part-to-device table; will be one of 2, 4, or 8</p></li>
</ul>
<p>Additionally, there are several optional keys which may be present:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">next_part_power</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version</span></code></p></li>
</ul>
<p>Notice that two keys are no longer present: <code class="docutils literal notranslate"><span class="pre">replica_count</span></code> is no longer
needed as the size of the replica-to-part-to-device table is explicit, and
<code class="docutils literal notranslate"><span class="pre">byteorder</span></code> is not needed as all data in v2 rings should be written using
network-order.</p>
</section>
<section id="swift-ring-devices">
<h3>swift/ring/devices<a class="headerlink" href="#swift-ring-devices" title="Link to this heading">¶</a></h3>
<p>This BLOB contains a list of swift device dictionarys. And was seperated out
from the metadata BLOB as this can become a large structure in it’s own right.</p>
</section>
<section id="swift-ring-assignments">
<h3>swift/ring/assignments<a class="headerlink" href="#swift-ring-assignments" title="Link to this heading">¶</a></h3>
<p>This BLOB is the replica-to-part-to-device table. It’s length will be
<code class="docutils literal notranslate"><span class="pre">replicas</span> <span class="pre">*</span> <span class="pre">(2</span> <span class="pre">**</span> <span class="pre">part_power)</span> <span class="pre">*</span> <span class="pre">dev_id_bytes</span></code>, where <code class="docutils literal notranslate"><span class="pre">replicas</span></code> is the exact
(potentially fractional) replica count for the ring. Unlike in v1, each
<code class="docutils literal notranslate"><span class="pre">&lt;dev&gt;</span></code> is written using network-order.</p>
<p>Note that this is why we increased the size of <code class="docutils literal notranslate"><span class="pre">&lt;data-length&gt;</span></code> as compared to
the v1 format – otherwise, we may not be able to represent rings with both
high <code class="docutils literal notranslate"><span class="pre">replica_count</span></code> and high <code class="docutils literal notranslate"><span class="pre">part_power</span></code>.</p>
</section>
</section>
</section>


              </div>
            </div>
          </div>
          <div class="docs-actions">
          
            <a href="overview_ring.html"><i class="fa fa-angle-double-left" data-toggle="tooltip" data-placement="top" title="Previous: The Rings"></i></a>
          
          
            <a href="overview_policies.html"><i class="fa fa-angle-double-right" data-toggle="tooltip" data-placement="top" title="Next: Storage Policies"></i></a>
          
          <a id="pdfLink2" href="" target="_blank" title="Download the manuals as PDF"><i class="fa fa-file-pdf-o" data-toggle="tooltip" data-placement="top" title="Download PDF"></i></a>
          
            <a id="logABugLink3" href="" target="_blank" title="Found an error? Report a bug against this page"><i class="fa fa-bug" data-toggle="tooltip" data-placement="top" title="Report a Bug"></i></a>
          
          </div>
          <div class="row docs-byline bottom">
            <div class="docs-updated">this page last updated: 2022-03-17 22:30:40</div>
          </div>
          <div class="row">
            <div class="col-lg-8 col-md-8 col-sm-8 docs-license">
<a href="https://creativecommons.org/licenses/by/3.0/">
 <img src="_static/images/docs/license.png" alt="Creative Commons Attribution 3.0 License"/>
</a>
<p>
 Except where otherwise noted, this document is licensed under
 <a href="https://creativecommons.org/licenses/by/3.0/">Creative Commons
 Attribution 3.0 License</a>. See all <a href="https://www.openstack.org/legal">
 OpenStack Legal Documents</a>.
</p>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4 docs-actions-wrapper">
            <!-- ID buglinkbottom added so that pre-filled doc bugs
                 are sent to Launchpad projects related to the
                 document -->
              <a href="#" id="logABugLink2" class="docs-footer-actions"><i class="fa fa-bug"></i> found an error? report a bug</a>
            </div>
          </div>
        </div>
<div class="col-lg-3 col-md-4 col-sm-4 col-lg-pull-9 col-md-pull-8 col-sm-pull-8 order-1 docs-sidebar">
  <div class="btn-group docs-sidebar-releases">
    <button onclick="location.href='/'" class="btn docs-sidebar-home" data-toggle="tooltip" data-placement="top" title="OpenStack Docs Home"><i class="fa fa-arrow-circle-o-left"></i></button>
<button type="button" data-bs-toggle="dropdown" class="btn dropdown-toggle docs-sidebar-release-select">OpenStack Documentation</button>
<ul class="dropdown-menu docs-sidebar-dropdown" role="menu">
  <li class="dropdown-header">Guides</li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/index.html#install-guides">Install Guides</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/index.html#user-guides">User Guides</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/index.html#configuration-guides">Configuration Guides</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/index.html#ops-and-admin-guides">Operations and Administration Guides</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/index.html#api-guides">API Guides</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/index.html#contributor-guides">Contributor Guides</a></li>
  <li class="dropdown-header">Languages</li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/de/">Deutsch (German)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/fr/">Français (French)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/id/">Bahasa Indonesia (Indonesian)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/it/">Italiano (Italian)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/ja/">日本語 (Japanese)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/ko_KR/">한국어 (Korean)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/pt_BR/">Português (Portuguese)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/tr_TR/">Türkçe (Türkiye)</a></li>
  <li><a class="dropdown-item" href="https://docs.openstack.org/zh_CN/">简体中文 (Simplified Chinese)</a></li>
</ul>
  </div>
  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="table-of-contents">
      <a href="index.html" class="docs-sidebar-section-title"><h4>Swift 0.1.0.dev11004</h4></a>
      <ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api/object_api_v1_overview.html">Object Storage API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_architecture.html">Swift Architectural Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_wsgi_management.html">WSGI Server Process Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_ring.html">The Rings</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ring File Formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ring-v0">Ring v0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ring-v1">Ring v1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ring-v2">Ring v2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview_policies.html">Storage Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_reaper.html">The Account Reaper</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_auth.html">The Auth System</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_acl.html">Access Control Lists (ACLs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_replication.html">Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="ratelimit.html">Rate Limiting</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_large_objects.html">Large Object Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_global_cluster.html">Global Clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_container_sync.html">Container to Container Synchronization</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_expiring_objects.html">Expiring Object Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="cors.html">CORS</a></li>
<li class="toctree-l1"><a class="reference internal" href="crossdomain.html">Cross-domain Policy File</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_erasure_code.html">Erasure Code Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_encryption.html">Object Encryption</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_backing_store.html">Using Swift as Backing Store for Service Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview_container_sharding.html">Container Sharding</a></li>
<li class="toctree-l1"><a class="reference internal" href="ring_background.html">Building a Consistent Hashing Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="ring_partpower.html">Modifying Ring Partition Power</a></li>
<li class="toctree-l1"><a class="reference internal" href="associated_projects.html">Associated Projects</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html">Contributing to OpenStack Swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#swift-design-principles">Swift Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#recommended-workflow">Recommended workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#notes-on-testing">Notes on Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#ideas">Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/contributing.html#community">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributor/review_guidelines.html">Review Guidelines</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="development_guidelines.html">Development Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_saio.html">SAIO (Swift All In One)</a></li>
<li class="toctree-l1"><a class="reference internal" href="first_contribution_swift.html">First Contribution to Swift</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies_saio.html">Adding Storage Policies to an Existing SAIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_auth.html">Auth Server and Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_middleware.html">Middleware and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_ondisk_backends.html">Pluggable On-Disk Back-end APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_watchers.html">Auditor Watchers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="deployment_guide.html">Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="apache_deployment_guide.html">Apache Deployment Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_guide.html">Administrator’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="replication_network.html">Dedicated replication network</a></li>
<li class="toctree-l1"><a class="reference internal" href="logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="ops_runbook/index.html">Swift Ops Runbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin/index.html">OpenStack Swift Administrator Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="install/index.html">Object Storage Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="config/index.html">Configuration Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/object_api_v1_overview.html">Object Storage API overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/discoverability.html">Discoverability</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/container_quotas.html">Container quotas</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/object_versioning.html">Object versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/large_objects.html">Large objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/temporary_url_middleware.html">Temporary URL middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/form_post_middleware.html">Form POST middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/use_content-encoding_metadata.html">Use Content-Encoding metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/use_the_content-disposition_metadata.html">Use the Content-Disposition metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/pseudo-hierarchical-folders-directories.html">Pseudo-hierarchical folders and directories</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/pagination.html">Page through large lists of containers or objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/serialized-response-formats.html">Serialized response formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/static-website.html">Create static website</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/object-expiration.html">Object expiration</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/bulk-delete.html">Bulk delete</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="s3_compat.html">S3/Swift REST API Comparison Matrix</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ring.html">Partitioned Consistent Hash Ring</a></li>
<li class="toctree-l1"><a class="reference internal" href="proxy.html">Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account</a></li>
<li class="toctree-l1"><a class="reference internal" href="container.html">Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="db.html">Account DB and Container DB</a></li>
<li class="toctree-l1"><a class="reference internal" href="object.html">Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="middleware.html">Middleware</a></li>
<li class="toctree-l1"><a class="reference internal" href="audit_watchers.html">Object Audit Watchers</a></li>
</ul>

    </div>

  <div class="docs-sidebar-toc">
    <div class="docs-sidebar-section" id="local-table-of-contents">
      <h4 class="docs-sidebar-section-title">Page Contents</h4>
      <ul>
<li><a class="reference internal" href="#">Ring File Formats</a><ul>
<li><a class="reference internal" href="#ring-v0">Ring v0</a></li>
<li><a class="reference internal" href="#ring-v1">Ring v1</a></li>
<li><a class="reference internal" href="#ring-v2">Ring v2</a><ul>
<li><a class="reference internal" href="#swift-ring-metadata">swift/ring/metadata</a></li>
<li><a class="reference internal" href="#swift-ring-devices">swift/ring/devices</a></li>
<li><a class="reference internal" href="#swift-ring-assignments">swift/ring/assignments</a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
  </div>
  </div>
</div>
      </div>
    </div>
<footer>
  <div class="container">
    <div class="row footer-links">
      <div class="col-lg-2 col-sm-2">
        <h3>OpenStack</h3>
        <ul>
          <li><a href="https://www.openstack.org/software/project-navigator/">Projects</a></li>
          <li><a href="https://security.openstack.org/">OpenStack Security</a></li>
          <li><a href="https://openstack.org/blog/">Blog</a></li>
          <li><a href="https://openstack.org/news/">News</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Community</h3>
        <ul>
          <li><a href="https://www.meetup.com/pro/openinfradev/">User Groups</a></li>
          <li><a href="https://openstack.org/community/events/">Events</a></li>
          <li><a href="https://openstack.org/community/jobs/">Jobs</a></li>
          <li><a href="https://openinfra.dev/members/">Companies</a></li>
          <li><a href="https://docs.openstack.org/contributors">Contribute</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Documentation</h3>
        <ul>
          <li><a href="https://docs.openstack.org">OpenStack Manuals</a></li>
          <li><a href="https://openstack.org/software/start/">Getting Started</a></li>
          <li><a href="https://developer.openstack.org">API Documentation</a></li>
          <li><a href="https://wiki.openstack.org">Wiki</a></li>
        </ul>
      </div>
      <div class="col-lg-2 col-sm-2">
        <h3>Branding &amp; Legal</h3>
        <ul>
          <li><a href="https://openinfra.dev/legal">Legal Docs</a></li>
          <li><a href="https://openstack.org/brand/">Logos &amp; Guidelines</a></li>
          <li><a href="https://openinfra.dev/legal/trademark-policy">Trademark Policy</a></li>
          <li><a href="https://openinfra.dev/privacy-policy">Privacy Policy</a></li>
          <li><a href="https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement">OpenInfra CLA</a></li>
        </ul>
      </div>
      <div class="col-lg-4 col-sm-4">
        <h3>Stay In Touch</h3>
        <a href="https://twitter.com/OpenStack" target="_blank" class="social-icons footer-twitter"></a>
        <a href="https://www.facebook.com/openinfradev" target="_blank" class="social-icons footer-facebook"></a>
        <a href="https://www.linkedin.com/company/open-infrastructure-foundation" target="_blank" class="social-icons footer-linkedin"></a>
        <a href="https://www.youtube.com/user/OpenStackFoundation" target="_blank" class="social-icons footer-youtube"></a>
        <p class="fine-print">
          The OpenStack project is provided under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 license</a>. Docs.openstack.org is powered by
          <a href="https://rackspace.com" target="_blank">Rackspace Cloud Computing</a>.
        </p>
      </div>
    </div>
  </div>
</footer>
<!-- jQuery -->
<script src="_static/js/jquery-3.2.1.min.js"></script>

<!-- Bootstrap JavaScript -->
<script src="_static/js/bootstrap.bundle.min.js"></script>

<!-- The rest of the JS -->
<script src="_static/js/navigation.js"></script>

<!-- Docs JS -->
<script src="_static/js/docs.js"></script>

<!-- Javascript for page -->
<script>
  /* Build a description of this page including SHA, source location on git
   * repo, build time and the project's launchpad bug tag. Set the HREF of the
   * bug buttons
   */
    var lineFeed = "%0A";
    var gitURL = "Source: Can't derive source file URL";

    /* there have been cases where "pagename" wasn't set; better check for it */
    /* "giturl" is the URL of the source file on Git and is auto-generated by
     * openstackdocstheme.
     *
     * "pagename" is a standard sphinx parameter containing the name of
     * the source file, without extension.
     */

    var sourceFile = "overview_ring_format" + ".rst";
    gitURL = "Source: https://opendev.org/openstack/swift/src/doc/source" + "/" + sourceFile;

    /* gitsha, project and bug_tag rely on variables in conf.py */
    var gitSha = "SHA: f6644412667bd0ac1737aaa7675a0e3969982c0e";
    var repositoryName = "openstack/swift";
    var bugProject = "swift";
    var bugTitle = "Ring File Formats in Swift";
    var fieldTags = "";
    var useStoryboard = "";

    /* "last_updated" is the build date and time. It relies on the
       conf.py variable "html_last_updated_fmt", which should include
       year/month/day as well as hours and minutes                   */
    var buildstring = "Release: 0.1.0.dev11004 on 2022-03-17 22:30:40";

    var fieldComment = encodeURI(buildstring) +
                       lineFeed + encodeURI(gitSha) +
                       lineFeed + encodeURI(gitURL) ;

    logABug(bugTitle, bugProject, fieldComment, fieldTags, repositoryName, useStoryboard);
    var currentSourceFile = "overview_ring_format";
    var pdfFileName = "doc-swift.pdf";
    pdfLink(currentSourceFile, pdfFileName);
</script>


  </body>
</html>